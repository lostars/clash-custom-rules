port: 7890 # HTTP(S) ä»£ç†æœåŠ¡å™¨ç«¯å£
socks-port: 7891 # SOCKS5 ä»£ç†ç«¯å£
mixed-port: 7892 # HTTP(S) å’Œ SOCKS ä»£ç†æ··åˆç«¯å£
redir-port: 7893 # é€æ˜ä»£ç†ç«¯å£ï¼Œç”¨äº Linux å’Œ MacOS

# Transparent proxy server port for Linux (TProxy TCP and TProxy UDP)
# tproxy-port: 7894

allow-lan: true # å…è®¸å±€åŸŸç½‘è¿æ¥
bind-address: "*" # ç»‘å®š IP åœ°å€ï¼Œä»…ä½œç”¨äº allow-lan ä¸º trueï¼Œ'*'è¡¨ç¤ºæ‰€æœ‰åœ°å€
# authentication: # http,socks å…¥å£çš„éªŒè¯ç”¨æˆ·åï¼Œå¯†ç 
  # - "username:password"
skip-auth-prefixes: # è®¾ç½®è·³è¿‡éªŒè¯çš„ IP æ®µ
  - 127.0.0.1/8
  - ::1/128
lan-allowed-ips: # å…è®¸è¿æ¥çš„ IP åœ°å€æ®µï¼Œä»…ä½œç”¨äº allow-lan ä¸º true, é»˜è®¤å€¼ä¸º 0.0.0.0/0 å’Œ::/0
  - 0.0.0.0/0
  - ::/0
# lan-disallowed-ips: # ç¦æ­¢è¿æ¥çš„ IP åœ°å€æ®µï¼Œé»‘åå•ä¼˜å…ˆçº§é«˜äºç™½åå•ï¼Œé»˜è®¤å€¼ä¸ºç©º
  # - 192.168.0.3/32

#  find-process-mode has 3 values:always, strict, off
#  - always, å¼€å¯ï¼Œå¼ºåˆ¶åŒ¹é…æ‰€æœ‰è¿›ç¨‹
#  - strict, é»˜è®¤ï¼Œç”± mihomo åˆ¤æ–­æ˜¯å¦å¼€å¯
#  - off, ä¸åŒ¹é…è¿›ç¨‹ï¼Œæ¨èåœ¨è·¯ç”±å™¨ä¸Šä½¿ç”¨æ­¤æ¨¡å¼
find-process-mode: strict

mode: rule

#è‡ªå®šä¹‰ geodata url
geox-url:
  geoip: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
  geosite: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
  mmdb: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb"

geo-auto-update: true # æ˜¯å¦è‡ªåŠ¨æ›´æ–° geodata
geo-update-interval: 24 # æ›´æ–°é—´éš”ï¼Œå•ä½ï¼šå°æ—¶

log-level: info # æ—¥å¿—ç­‰çº§ silent/error/warning/info/debug

ipv6: true # å¼€å¯ IPv6 æ€»å¼€å…³ï¼Œå…³é—­é˜»æ–­æ‰€æœ‰ IPv6 é“¾æ¥å’Œå±è”½ DNS è¯·æ±‚ AAAA è®°å½•

external-controller: 0.0.0.0:9090 # RESTful API ç›‘å¬åœ°å€
# external-controller-tls: 0.0.0.0:9443 # RESTful API HTTPS ç›‘å¬åœ°å€ï¼Œéœ€è¦é…ç½® tls éƒ¨åˆ†é…ç½®æ–‡ä»¶
# secret: "123456" # `Authorization:Bearer ${secret}`

tcp-concurrent: true # TCP å¹¶å‘è¿æ¥æ‰€æœ‰ IP, å°†ä½¿ç”¨æœ€å¿«æ¡æ‰‹çš„ TCP

# é…ç½® WEB UI ç›®å½•ï¼Œä½¿ç”¨ http://{{external-controller}}/ui è®¿é—®
external-ui: metacubexd
external-ui-name: metacubexd
external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip"

#  TCP keep alive interval
# disable-keep-alive: false #ç›®å‰åœ¨androidç«¯å¼ºåˆ¶ä¸ºtrue
# keep-alive-idle: 15
# keep-alive-interval: 15

# ç±»ä¼¼äº /etc/hosts, ä»…æ”¯æŒé…ç½®å•ä¸ª IP
hosts:
'router.asus.com': 192.168.50.1
# '.dev': 127.0.0.1
# 'alpha.mihomo.dev': '::1'
# test.com: [1.1.1.1, 2.2.2.2]
# home.lan: lan # lan ä¸ºç‰¹åˆ«å­—æ®µï¼Œå°†åŠ å…¥æœ¬åœ°æ‰€æœ‰ç½‘å¡çš„åœ°å€
# baidu.com: google.com # åªå…è®¸é…ç½®ä¸€ä¸ªåˆ«å

profile: # å­˜å‚¨ select é€‰æ‹©è®°å½•
  store-selected: true

  # æŒä¹…åŒ– fake-ip
  store-fake-ip: true

# Tun é…ç½®
tun:
  enable: false
  stack: system # gvisor/mixed
  dns-hijack:
    - 0.0.0.0:53 # éœ€è¦åŠ«æŒçš„ DNS
  # auto-detect-interface: true # è‡ªåŠ¨è¯†åˆ«å‡ºå£ç½‘å¡
  # auto-route: true # é…ç½®è·¯ç”±è¡¨
  # mtu: 9000 # æœ€å¤§ä¼ è¾“å•å…ƒ
  # gso: false # å¯ç”¨é€šç”¨åˆ†æ®µå¸è½½ï¼Œä»…æ”¯æŒ Linux
  # gso-max-size: 65536 # é€šç”¨åˆ†æ®µå¸è½½åŒ…çš„æœ€å¤§å¤§å°
  auto-redirect: false # è‡ªåŠ¨é…ç½® iptables ä»¥é‡å®šå‘ TCP è¿æ¥ã€‚ä»…æ”¯æŒ Linuxã€‚å¸¦æœ‰ auto-redirect çš„ auto-route ç°åœ¨å¯ä»¥åœ¨è·¯ç”±å™¨ä¸ŠæŒ‰é¢„æœŸå·¥ä½œï¼Œæ— éœ€å¹²é¢„ã€‚
  # strict-route: true # å°†æ‰€æœ‰è¿æ¥è·¯ç”±åˆ° tun æ¥é˜²æ­¢æ³„æ¼ï¼Œä½†ä½ çš„è®¾å¤‡å°†æ— æ³•å…¶ä»–è®¾å¤‡è¢«è®¿é—®
  route-address-set: # å°†æŒ‡å®šè§„åˆ™é›†ä¸­çš„ç›®æ ‡ IP CIDR è§„åˆ™æ·»åŠ åˆ°é˜²ç«å¢™, ä¸åŒ¹é…çš„æµé‡å°†ç»•è¿‡è·¯ç”±, ä»…æ”¯æŒ Linuxï¼Œä¸”éœ€è¦ nftablesï¼Œ`auto-route` å’Œ `auto-redirect` å·²å¯ç”¨ã€‚
    # - ruleset-1
    # - ruleset-2
  route-exclude-address-set: # å°†æŒ‡å®šè§„åˆ™é›†ä¸­çš„ç›®æ ‡ IP CIDR è§„åˆ™æ·»åŠ åˆ°é˜²ç«å¢™, åŒ¹é…çš„æµé‡å°†ç»•è¿‡è·¯ç”±, ä»…æ”¯æŒ Linuxï¼Œä¸”éœ€è¦ nftablesï¼Œ`auto-route` å’Œ `auto-redirect` å·²å¯ç”¨ã€‚
    # - ruleset-3
    # - ruleset-4
  route-address: # å¯ç”¨ auto-route æ—¶ä½¿ç”¨è‡ªå®šä¹‰è·¯ç”±è€Œä¸æ˜¯é»˜è®¤è·¯ç”±
    - 0.0.0.0/1
    - 128.0.0.0/1
    - "::/1"
    - "8000::/1"
  # inet4-route-address: # å¯ç”¨ auto-route æ—¶ä½¿ç”¨è‡ªå®šä¹‰è·¯ç”±è€Œä¸æ˜¯é»˜è®¤è·¯ç”±ï¼ˆæ—§å†™æ³•ï¼‰
  #   - 0.0.0.0/1
  #   - 128.0.0.0/1
  # inet6-route-address: # å¯ç”¨ auto-route æ—¶ä½¿ç”¨è‡ªå®šä¹‰è·¯ç”±è€Œä¸æ˜¯é»˜è®¤è·¯ç”±ï¼ˆæ—§å†™æ³•ï¼‰
  #   - "::/1"
  #   - "8000::/1"
  # endpoint-independent-nat: false # å¯ç”¨ç‹¬ç«‹äºç«¯ç‚¹çš„ NAT
  # include-interface: # é™åˆ¶è¢«è·¯ç”±çš„æ¥å£ã€‚é»˜è®¤ä¸é™åˆ¶ï¼Œä¸ `exclude-interface` å†²çª
  #   - "lan0"
  # exclude-interface: # æ’é™¤è·¯ç”±çš„æ¥å£ï¼Œä¸ `include-interface` å†²çª
  #   - "lan1"
  # include-uid: # UID è§„åˆ™ä»…åœ¨ Linux ä¸‹è¢«æ”¯æŒï¼Œå¹¶ä¸”éœ€è¦ auto-route
  # - 0
  # include-uid-range: # é™åˆ¶è¢«è·¯ç”±çš„çš„ç”¨æˆ·èŒƒå›´
  # - 1000:9999
  # exclude-uid: # æ’é™¤è·¯ç”±çš„çš„ç”¨æˆ·
  #- 1000
  # exclude-uid-range: # æ’é™¤è·¯ç”±çš„çš„ç”¨æˆ·èŒƒå›´
  # - 1000:9999

  # Android ç”¨æˆ·å’Œåº”ç”¨è§„åˆ™ä»…åœ¨ Android ä¸‹è¢«æ”¯æŒ
  # å¹¶ä¸”éœ€è¦ auto-route

  # include-android-user: # é™åˆ¶è¢«è·¯ç”±çš„ Android ç”¨æˆ·
  # - 0
  # - 10
  # include-package: # é™åˆ¶è¢«è·¯ç”±çš„ Android åº”ç”¨åŒ…å
  # - com.android.chrome
  # exclude-package: # æ’é™¤è¢«è·¯ç”±çš„ Android åº”ç”¨åŒ…å
  # - com.android.captiveportallogin

# DNS é…ç½®
dns:
  cache-algorithm: arc
  enable: true # å…³é—­å°†ä½¿ç”¨ç³»ç»Ÿ DNS
  prefer-h3: false # æ˜¯å¦å¼€å¯ DoH æ”¯æŒ HTTP/3ï¼Œå°†å¹¶å‘å°è¯•
  listen: 0.0.0.0:53 # å¼€å¯ DNS æœåŠ¡å™¨ç›‘å¬
  ipv6: true # false å°†è¿”å› AAAA çš„ç©ºç»“æœ
  # ipv6-timeout: 300 # å•ä½ï¼šmsï¼Œå†…éƒ¨åŒæ ˆå¹¶å‘æ—¶ï¼Œå‘ä¸Šæ¸¸æŸ¥è¯¢ AAAA æ—¶ï¼Œç­‰å¾… AAAA çš„æ—¶é—´ï¼Œé»˜è®¤ 100ms
  # ç”¨äºè§£æ nameserverï¼Œfallback ä»¥åŠå…¶ä»– DNS æœåŠ¡å™¨é…ç½®çš„ï¼ŒDNS æœåŠ¡åŸŸå
  # åªèƒ½ä½¿ç”¨çº¯ IP åœ°å€ï¼Œå¯ä½¿ç”¨åŠ å¯† DNS
  # default-nameserver:
  #   - 114.114.114.114
  #   - 8.8.8.8
  #   - tls://1.12.12.12:853
  #   - tls://223.5.5.5:853
  #   - system # append DNS server from system configuration. If not found, it would print an error log and skip.
  enhanced-mode: fake-ip # or redir-host

  fake-ip-range: 198.18.0.1/16 # fake-ip æ± è®¾ç½®

  # é…ç½®ä¸ä½¿ç”¨ fake-ip çš„åŸŸå
  fake-ip-filter:
    - '*.lan'
    - localhost.ptlogin2.qq.com
    # fakeip-filter ä¸º rule-providers ä¸­çš„åä¸º fakeip-filter è§„åˆ™è®¢é˜…ï¼Œ
    # ä¸” behavior å¿…é¡»ä¸º domain/classicalï¼Œå½“ä¸º classical æ—¶ä»…ä¼šç”Ÿæ•ˆåŸŸåç±»è§„åˆ™
    # - rule-set:fakeip-filter
    # fakeip-filter ä¸º geosite ä¸­åä¸º fakeip-filter çš„åˆ†ç±»ï¼ˆéœ€è¦è‡ªè¡Œä¿è¯è¯¥åˆ†ç±»å­˜åœ¨ï¼‰
    # - geosite:fakeip-filter
  # é…ç½®fake-ip-filterçš„åŒ¹é…æ¨¡å¼ï¼Œé»˜è®¤ä¸ºblacklistï¼Œå³å¦‚æœåŒ¹é…æˆåŠŸä¸è¿”å›fake-ip
  # å¯è®¾ç½®ä¸ºwhitelistï¼Œå³åªæœ‰åŒ¹é…æˆåŠŸæ‰è¿”å›fake-ip
  fake-ip-filter-mode: blacklist

  use-hosts: true # æŸ¥è¯¢ hosts

  # é…ç½®åé¢çš„nameserverã€fallbackå’Œnameserver-policyå‘dnsæœåŠ¡å™¨çš„è¿æ¥è¿‡ç¨‹æ˜¯å¦éµå®ˆéµå®ˆrulesè§„åˆ™
  # å¦‚æœä¸ºfalseï¼ˆé»˜è®¤å€¼ï¼‰åˆ™è¿™ä¸‰éƒ¨åˆ†çš„dnsæœåŠ¡å™¨åœ¨æœªç‰¹åˆ«æŒ‡å®šçš„æƒ…å†µä¸‹ä¼šç›´è¿
  # å¦‚æœä¸ºtrueï¼Œå°†ä¼šæŒ‰ç…§rulesçš„è§„åˆ™åŒ¹é…é“¾æ¥æ–¹å¼ï¼ˆèµ°ä»£ç†æˆ–ç›´è¿ï¼‰ï¼Œå¦‚æœæœ‰ç‰¹åˆ«æŒ‡å®šåˆ™ä»»ç„¶ä»¥æŒ‡å®šå€¼ä¸ºå‡†
  # ä»…å½“proxy-server-nameserveréç©ºæ—¶å¯ä»¥å¼€å¯æ­¤é€‰é¡¹, å¼ºçƒˆä¸å»ºè®®å’Œprefer-h3ä¸€èµ·ä½¿ç”¨
  # æ­¤å¤–ï¼Œè¿™ä¸‰è€…é…ç½®ä¸­çš„dnsæœåŠ¡å™¨å¦‚æœå‡ºç°åŸŸåä¼šé‡‡ç”¨default-nameserveré…ç½®é¡¹è§£æï¼Œä¹Ÿè¯·ç¡®ä¿æ­£ç¡®é…ç½®default-nameserver
  respect-rules: false

  # DNS ä¸»è¦åŸŸåé…ç½®
  # æ”¯æŒ UDPï¼ŒTCPï¼ŒDoTï¼ŒDoHï¼ŒDoQ
  # è¿™éƒ¨åˆ†ä¸ºä¸»è¦ DNS é…ç½®ï¼Œå½±å“æ‰€æœ‰ç›´è¿ï¼Œç¡®ä¿ä½¿ç”¨å¯¹å¤§é™†è§£æç²¾å‡†çš„ DNS
  nameserver:
    - 223.5.5.5
    - 180.76.76.76
    - 119.29.29.29
    - 117.50.11.11
    - 117.50.10.10
    - 114.114.114.114
    - https://dns.alidns.com/dns-query
    - https://doh.360.cn/dns-query
    # - 114.114.114.114 # default value
    # - 8.8.8.8 # default value
    # - tls://223.5.5.5:853 # DNS over TLS
    # - https://doh.pub/dns-query # DNS over HTTPS
    # - https://dns.alidns.com/dns-query#h3=true # å¼ºåˆ¶ HTTP/3ï¼Œä¸ perfer-h3 æ— å…³ï¼Œå¼ºåˆ¶å¼€å¯ DoH çš„ HTTP/3 æ”¯æŒï¼Œè‹¥ä¸æ”¯æŒå°†æ— æ³•ä½¿ç”¨
    # - https://mozilla.cloudflare-dns.com/dns-query#DNS&h3=true # æŒ‡å®šç­–ç•¥ç»„å’Œä½¿ç”¨ HTTP/3
    # - dhcp://en0 # dns from dhcp
    # - quic://dns.adguard.com:784 # DNS over QUIC
    # - '8.8.8.8#RULES' # æ•ˆæœåŒrespect-rulesï¼Œä½†ä»…å¯¹è¯¥æœåŠ¡å™¨ç”Ÿæ•ˆ
    # - '8.8.8.8#en0' # å…¼å®¹æŒ‡å®š DNS å‡ºå£ç½‘å¡

  # å½“é…ç½® fallback æ—¶ï¼Œä¼šæŸ¥è¯¢ nameserver ä¸­è¿”å›çš„ IP æ˜¯å¦ä¸º CNï¼Œéå¿…è¦é…ç½®
  # å½“ä¸æ˜¯ CNï¼Œåˆ™ä½¿ç”¨ fallback ä¸­çš„ DNS æŸ¥è¯¢ç»“æœ
  # ç¡®ä¿é…ç½® fallback æ—¶èƒ½å¤Ÿæ­£å¸¸æŸ¥è¯¢
  fallback:
    - 8.8.8.8
    - 1.1.1.1
    - tls://dns.rubyfish.cn:853
    - tls://1.0.0.1:853
    - tls://dns.google:853
    - https://dns.rubyfish.cn/dns-query
    - https://cloudflare-dns.com/dns-query
    - https://dns.google/dns-query
  #   - tcp://1.1.1.1
  #   - 'tcp://1.1.1.1#ProxyGroupName' # æŒ‡å®š DNS è¿‡ä»£ç†æŸ¥è¯¢ï¼ŒProxyGroupName ä¸ºç­–ç•¥ç»„åæˆ–èŠ‚ç‚¹åï¼Œè¿‡ä»£ç†é…ç½®ä¼˜å…ˆäºé…ç½®å‡ºå£ç½‘å¡ï¼Œå½“æ‰¾ä¸åˆ°ç­–ç•¥ç»„æˆ–èŠ‚ç‚¹ååˆ™è®¾ç½®ä¸ºå‡ºå£ç½‘å¡

  # ä¸“ç”¨äºèŠ‚ç‚¹åŸŸåè§£æçš„ DNS æœåŠ¡å™¨ï¼Œéå¿…è¦é…ç½®é¡¹ï¼Œå¦‚æœä¸å¡«åˆ™éµå¾ªnameserver-policyã€nameserverå’Œfallbackçš„é…ç½®
  # proxy-server-nameserver:
  #   - https://dns.google/dns-query
  #   - tls://one.one.one.one

  # ä¸“ç”¨äºdirectå‡ºå£åŸŸåè§£æçš„ DNS æœåŠ¡å™¨ï¼Œéå¿…è¦é…ç½®é¡¹ï¼Œå¦‚æœä¸å¡«åˆ™éµå¾ªnameserver-policyã€nameserverå’Œfallbackçš„é…ç½®
  # direct-nameserver:
  #   - system://
  # direct-nameserver-follow-policy: false # æ˜¯å¦éµå¾ªnameserver-policyï¼Œé»˜è®¤ä¸ºä¸éµå®ˆï¼Œä»…å½“direct-nameserverä¸ä¸ºç©ºæ—¶ç”Ÿæ•ˆ

  # é…ç½® fallback ä½¿ç”¨æ¡ä»¶
  fallback-filter:
    geoip: true # é…ç½®æ˜¯å¦ä½¿ç”¨ geoip
  #   geoip-code: CN # å½“ nameserver åŸŸåçš„ IP æŸ¥è¯¢ geoip åº“ä¸º CN æ—¶ï¼Œä¸ä½¿ç”¨ fallback ä¸­çš„ DNS æŸ¥è¯¢ç»“æœ
  #   é…ç½®å¼ºåˆ¶ fallbackï¼Œä¼˜å…ˆäº IP åˆ¤æ–­ï¼Œå…·ä½“åˆ†ç±»è‡ªè¡ŒæŸ¥çœ‹ geosite åº“
  #   geosite:
  #     - gfw
  #   å¦‚æœä¸åŒ¹é… ipcidr åˆ™ä½¿ç”¨ nameservers ä¸­çš„ç»“æœ
    ipcidr:
      - 240.0.0.0/4
  #   domain:
  #     - '+.google.com'
  #     - '+.facebook.com'
  #     - '+.youtube.com'

  # é…ç½®æŸ¥è¯¢åŸŸåä½¿ç”¨çš„ DNS æœåŠ¡å™¨
  nameserver-policy:
    #   'www.baidu.com': '114.114.114.114'
    #   '+.internal.crop.com': '10.0.0.1'
    "geosite:cn,private,apple":
      - https://doh.pub/dns-query
      - https://dns.alidns.com/dns-query
    "geosite:category-ads-all": rcode://success
    "www.baidu.com,+.google.cn": [223.5.5.5, https://dns.alidns.com/dns-query]
    ## globalï¼Œdns ä¸º rule-providers ä¸­çš„åä¸º global å’Œ dns è§„åˆ™è®¢é˜…ï¼Œ
    ## ä¸” behavior å¿…é¡»ä¸º domain/classicalï¼Œå½“ä¸º classical æ—¶ä»…ä¼šç”Ÿæ•ˆåŸŸåç±»è§„åˆ™
    # "rule-set:global,dns": 8.8.8.8

# è®¢é˜…ï¼Œå¤šè®¢é˜…åœ¨è¿™é‡Œæ·»åŠ 
sub: &sub
  use:
    - cordcloud

latency: &latency
  interval: 300
  tolerance: 50
  url: http://www.gstatic.com/generate_204
  <<: *sub

proxies:

proxy-groups:
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - â™»ï¸ ä½å€ç‡é¦™æ¸¯
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©ä½å€ç‡
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
      - ğŸ”¯ æ•…éšœè½¬ç§»
      - ğŸ”® è´Ÿè½½å‡è¡¡
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡© å¾·å›½èŠ‚ç‚¹
      - ğŸ‡«ğŸ‡· æ³•å›½èŠ‚ç‚¹
      - ğŸ˜’ å…¶ä»–èŠ‚ç‚¹
      - DIRECT

  - { name: ğŸš€ æ‰‹åŠ¨åˆ‡æ¢, type: select, proxies: [DIRECT], <<: *sub }
  - { name: ğŸ’€ æ‰€æœ‰èŠ‚ç‚¹, type: select, proxies: [DIRECT], <<: *sub}

  # å¯é…ç½®æ”¯æŒbt/ptçš„è®¢é˜…
  - { name: ğŸ§² BT&PT, type: select, proxies: [DIRECT] }

  - { name: ğŸ¥ å¥ˆé£è§†é¢‘, type: select, proxies: [ğŸ¥ å¥ˆé£èŠ‚ç‚¹] }
  - { name: ğŸŒ å›½å¤–åª’ä½“, type: select, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ’€ æ‰€æœ‰èŠ‚ç‚¹, DIRECT] }
  - { name: ğŸ’¬ OpenAi, type: select, proxies: [ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ’€ æ‰€æœ‰èŠ‚ç‚¹] }

  # é»˜è®¤ç›´è¿
  - { name: ğŸŒ å›½å†…åª’ä½“, type: select, proxies: [DIRECT, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ’€ æ‰€æœ‰èŠ‚ç‚¹] }
  - { name: ğŸ“¢ è°·æ­ŒFCM, type: select, proxies: [DIRECT, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ’€ æ‰€æœ‰èŠ‚ç‚¹] }
  - { name: â“‚ï¸ å¾®è½¯æœåŠ¡, type: select, proxies: [DIRECT, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ’€ æ‰€æœ‰èŠ‚ç‚¹] }
  - { name: ğŸ è‹¹æœæœåŠ¡, type: select, proxies: [DIRECT, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ’€ æ‰€æœ‰èŠ‚ç‚¹] }
  - { name: ğŸ¯ å…¨çƒç›´è¿, type: select, proxies: [DIRECT, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ’€ æ‰€æœ‰èŠ‚ç‚¹] }

  - { name: ğŸŸ æ¼ç½‘ä¹‹é±¼, type: select, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ’€ æ‰€æœ‰èŠ‚ç‚¹, DIRECT] }

  - { name: ğŸ›‘ å¹¿å‘Šæ‹¦æˆª, type: select, proxies: [REJECT, DIRECT] }
  - { name: ğŸƒ åº”ç”¨å‡€åŒ–, type: select, proxies: [REJECT, DIRECT] }
  - { name: ğŸ† AdBlock, type: select, proxies: [REJECT, DIRECT] }
  - { name: ğŸ›¡ï¸ éšç§é˜²æŠ¤, type: select, proxies: [REJECT, DIRECT] }

  - { name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©, <<: *latency, type: url-test }
  - { name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©ä½å€ç‡, <<: *latency, type: url-test, filter: "\\[å€ç‡:1\\]|\\[å€ç‡:0.[1-9]\\]" }
  - { name: â™»ï¸ ä½å€ç‡é¦™æ¸¯, <<: *latency, type: url-test, filter: "(HK|é¦™æ¸¯|æ¸¯).*(\\[å€ç‡:1\\]|\\[å€ç‡:0.[1-9]\\])" }

  - { name: ğŸ”¯ æ•…éšœè½¬ç§», <<: *latency, type: fallback }
  - { name: ğŸ”® è´Ÿè½½å‡è¡¡, <<: *latency, type: load-balance, strategy: consistent-hashing }

  - { name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, <<: *latency, type: url-test, filter: "HK|é¦™æ¸¯|æ¸¯" }
  - { name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, <<: *latency, type: url-test, filter: "JP|æ—¥æœ¬" }
  - { name: ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, <<: *latency, type: url-test, filter: "US|ç¾å›½" }
  - { name: ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, <<: *latency, type: url-test, filter: "TW|å°æ¹¾" }
  - { name: ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, <<: *latency, type: url-test, filter: "SG|æ–°åŠ å¡" }
  - { name: ğŸ‡¸ğŸ‡© å¾·å›½èŠ‚ç‚¹, <<: *latency, type: url-test, filter: "DE|å¾·å›½" }
  - { name: ğŸ‡«ğŸ‡· æ³•å›½èŠ‚ç‚¹, <<: *latency, type: url-test, filter: "FR|æ³•å›½" }
  - { name: ğŸ¥ å¥ˆé£èŠ‚ç‚¹, <<: *latency, type: url-test, filter: "\\[M\\]|AN" }
  - { name: ğŸ˜’ å…¶ä»–èŠ‚ç‚¹, <<: *latency, type: url-test, filter: "(?i)^(?!.*(?:HK|é¦™æ¸¯|æ¸¯|JP|æ—¥æœ¬|US|ç¾å›½|TW|å°æ¹¾|SG|æ–°åŠ å¡|DE|å¾·å›½|FR|æ³•å›½|[M]|AN)).*" }

# Mihomo æ ¼å¼çš„èŠ‚ç‚¹æˆ–æ”¯æŒ *ray çš„åˆ†äº«æ ¼å¼
proxy-providers:
  cordcloud:
    type: http # http çš„ path å¯ç©ºç½®ï¼Œé»˜è®¤å‚¨å­˜è·¯å¾„ä¸º homedir çš„ proxies æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶åä¸º url çš„ md5
    url: "è®¢é˜…åœ°å€"
    interval: 3600
    path: cordcloud.yaml # é»˜è®¤åªå…è®¸å­˜å‚¨åœ¨ mihomo çš„ Home Dirï¼Œå¦‚æœæƒ³å­˜å‚¨åˆ°ä»»æ„ä½ç½®ï¼Œæ·»åŠ ç¯å¢ƒå˜é‡ SKIP_SAFE_PATH_CHECK=1
    proxy: DIRECT
    # size-limit: 10240 # é™åˆ¶ä¸‹è½½æ–‡ä»¶æœ€å¤§ä¸º10kbï¼Œé»˜è®¤ä¸º0å³ä¸é™åˆ¶æ–‡ä»¶å¤§å°
    # header:
      # User-Agent:
      # - "Clash/v1.18.0"
      # - "mihomo/1.18.3"
      # Accept:
      # - 'application/vnd.github.v3.raw'
      # Authorization:
      # - 'token 1231231'
    health-check:
      enable: true
      interval: 600
      # lazy: true
      url: https://www.gstatic.com/generate_204
      # expected-status: 204 # å½“å¥åº·æ£€æŸ¥è¿”å›çŠ¶æ€ç ä¸æœŸæœ›å€¼ä¸ç¬¦æ—¶ï¼Œè®¤ä¸ºèŠ‚ç‚¹ä¸å¯ç”¨
    override: # è¦†å†™èŠ‚ç‚¹åŠ è½½æ—¶çš„ä¸€äº›é…ç½®é¡¹
      skip-cert-verify: true
      # udp: true
      # down: "50 Mbps"
      # up: "10 Mbps"
      # dialer-proxy: proxy
      # interface-name: tailscale0
      # routing-mark: 233
      # ip-version: ipv4-prefer
      additional-prefix: "[cordcloud]"
      # additional-suffix: "test"
      # # åå­—æ›¿æ¢ï¼Œæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼
      # proxy-name:
      #   - pattern: "test"
      #     target: "TEST"
      #   - pattern: "IPLC-(.*?)å€"
      #     target: "iplc x $1"

rule-providers:
  Apple:
    behavior: classical # domain ipcidr
    interval: 259200
    path: rules/Apple.yaml # é»˜è®¤åªå…è®¸å­˜å‚¨åœ¨ mihomo çš„ Home Dirï¼Œå¦‚æœæƒ³å­˜å‚¨åˆ°ä»»æ„ä½ç½®ï¼Œæ·»åŠ ç¯å¢ƒå˜é‡ SKIP_SAFE_PATH_CHECK=1
    type: http # http çš„ path å¯ç©ºç½®ï¼Œé»˜è®¤å‚¨å­˜è·¯å¾„ä¸º homedir çš„ rules æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶åä¸º url çš„ md5
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Apple.yaml"
    proxy: DIRECT
    # size-limit: 10240 # é™åˆ¶ä¸‹è½½æ–‡ä»¶æœ€å¤§ä¸º10kbï¼Œé»˜è®¤ä¸º0å³ä¸é™åˆ¶æ–‡ä»¶å¤§å°

  LocalAreaNetwork:
    behavior: classical
    interval: 259200
    path: rules/LocalAreaNetwork.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/LocalAreaNetwork.yaml"

  UnBan:
    behavior: classical
    interval: 259200
    path: rules/UnBan.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/UnBan.yaml"

  BanAD:
    behavior: classical
    interval: 259200
    path: rules/BanAD.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/BanAD.yaml"

  BanProgramAD:
    behavior: classical
    interval: 259200
    path: rules/BanProgramAD.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/BanProgramAD.yaml"

  BanEasyList:
    behavior: classical
    interval: 259200
    path: rules/BanEasyList.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/BanEasyList.yaml"


  BanEasyListChina:
    behavior: classical
    interval: 259200
    path: rules/BanEasyListChina.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/BanEasyListChina.yaml"

  BanEasyPrivacy:
    behavior: classical
    interval: 259200
    path: rules/BanEasyPrivacy.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/BanEasyPrivacy.yaml"

  GoogleFCM:
    behavior: classical
    interval: 259200
    path: rules/GoogleFCM.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/GoogleFCM.yaml"

  GoogleCN:
    behavior: classical
    interval: 259200
    path: rules/GoogleCN.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/GoogleCN.yaml"

  Microsoft:
    behavior: classical
    interval: 259200
    path: rules/Microsoft.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Microsoft.yaml"

  OpenAi:
    behavior: classical
    interval: 259200
    path: rules/OpenAi.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/OpenAi.yaml"

  Netflix:
    behavior: classical
    interval: 259200
    path: rules/Netflix.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Netflix.yaml"

  ChinaMedia:
    behavior: classical
    interval: 259200
    path: rules/ChinaMedia.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaMedia.yaml"

  ProxyMedia:
    behavior: classical
    interval: 259200
    path: rules/ProxyMedia.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ProxyMedia.yaml"

  ProxyGFWlist:
    behavior: classical
    interval: 259200
    path: rules/ProxyGFWlist.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ProxyGFWlist.yaml"

  ChinaIp:
    behavior: ipcidr
    interval: 259200
    path: rules/ChinaIp.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaIp.yaml"

  ChinaDomain:
    behavior: classical
    interval: 259200
    path: rules/ChinaDomain.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaDomain.yaml"

  ChinaCompanyIp:
    behavior: ipcidr
    interval: 259200
    path: rules/ChinaCompanyIp.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaCompanyIp.yaml"

  Download:
    behavior: classical
    interval: 259200
    path: rules/Download.yaml
    type: http
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Download.yaml"

  BTPT:
    behavior: classical
    interval: 259200
    path: rules/BTPT.yaml
    type: http
    url: "https://raw.githubusercontent.com/lostars/clash-custom-rules/main/BTPT.yaml"

  JPSites:
    behavior: classical
    interval: 259200
    path: rules/JPSites.yaml
    type: http
    url: "https://raw.githubusercontent.com/lostars/clash-custom-rules/main/JPSites.yaml"

rules:
  # è‡ªå·±ç»´æŠ¤çš„è§„åˆ™ä¼˜å…ˆ

  - DOMAIN,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,BTPT,ğŸ§² BT&PT
  - RULE-SET,JPSites,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
  - RULE-SET,LocalAreaNetwork,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,UnBan,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,BanAD,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,BanProgramAD,ğŸƒ åº”ç”¨å‡€åŒ–
  - RULE-SET,BanEasyList,ğŸ† AdBlock
  - RULE-SET,BanEasyListChina,ğŸ† AdBlock
  - RULE-SET,BanEasyPrivacy,ğŸ›¡ï¸ éšç§é˜²æŠ¤
  - RULE-SET,GoogleFCM,ğŸ“¢ è°·æ­ŒFCM
  - RULE-SET,GoogleCN,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Microsoft,â“‚ï¸ å¾®è½¯æœåŠ¡
  - RULE-SET,Apple,ğŸ è‹¹æœæœåŠ¡
  - RULE-SET,OpenAi,ğŸ’¬ OpenAi
  - RULE-SET,Netflix,ğŸ¥ å¥ˆé£è§†é¢‘
  - RULE-SET,ChinaMedia,ğŸŒ å›½å†…åª’ä½“
  - RULE-SET,ProxyMedia,ğŸŒ å›½å¤–åª’ä½“
  - RULE-SET,ProxyGFWlist,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  # - RULE-SET,ChinaIp,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,ChinaDomain,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,ChinaCompanyIp,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Download,ğŸ¯ å…¨çƒç›´è¿
  - GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼

